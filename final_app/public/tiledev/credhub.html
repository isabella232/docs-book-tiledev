<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      CredHub |
    
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  
<script type="text/javascript">
  if (window.location.host === 'docs.pivotal.io') {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '']);
    _gaq.push(['_setDomainName', '']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  }
</script>

<script type="text/javascript">
  var blackList = ['acceptance'];

  blackList.forEach(function(blackListedEnv) {
    if (document.URL.indexOf(blackListedEnv) > -1 && blackListedEnv != "") {
      $('head').append('<meta name="hashtag" content="PivotalMoment">');
    }
  });
</script>

<!-- CrazyEgg Tracking Script -->
  <script type="text/javascript">
  setTimeout(function(){var a=document.createElement("script");
  var b=document.getElementsByTagName("script")[0];
  a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0055/2990.js?"+Math.floor(new Date().getTime()/3600000);
  a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>

<!-- Munchkin Marketo Script -->
<script type="text/javascript">
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

</head>

<body class="tiledev tiledev_credhub has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "";
    </script>

       
    <header class="header header-layout">
      <h1 class="logo">
        <a href="/">Default Book Title</a>
      </h1>
      
      <div class="header-links js-bar-links">
        <div class="btn-menu" data-behavior="MenuMobile"></div>
        
        <div class="header-item">
          
        </div>
        <!--Default search-->
<!--If book needs something different, add a book-search partial to the book's layouts folder-->
<div class="header-item searchbar js-searchbar">
  <a class="search-icon" data-behavior="Search"></a>
  <div class="search-input">
    <div class="search-input-inner" id="docs-search">
        <form method="get" action="/search">
          <input name="q" placeholder="search" class="search-box" />
        </form>
    </div>
  </div>
</div>

      </div>
    </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="js-sidenav nav-container" role="navigation">
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    <ul>

      <li>
        <a href="index.html">PCF Tile Developers Guide</a>
      </li>

      <li class="has_submenu">
        <a href="tile-basics.html">Tile Basics</a>
        <ul>
          <li>
            <a href="cf-concepts.html">How PCF and PCF Services Work</a>
          </li>
          <li>
            <a href="/tiledev/tile-structure.html">How Tiles Work</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/workflow.html">Tile Development Workflow</a>
        <ul>
          <li>
            <a href="/tiledev/overview.html">Service Integration Overview</a>
          </li>
          <li>
            <a href="/tiledev/stages.html">Levels of Integration</a>
          </li>
          <li>
            <a href="/tiledev/development.html">Development Steps at Each Level</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/environments.html">Development Environments</a>
        <ul>
          <li>
            <a href="/tiledev/environments.html#pcfdev">PCF Dev and BOSH Lite</a>
          </li>
          <li>
            <a href="/tiledev/environments.html#pws">PWS or Other Supported CF Infrastructure</a>
          </li>
          <li>
            <a href="/tiledev/environments.html#pcf">PCF with Ops Manager</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/tools.html">Development Tools</a>
        <ul>
          <li>
            <a href="/tiledev/tile-generator.html">Tile Generator</a>
          </li>
          <li>
            <a href="/tiledev/pcf-command.html">pcf Command Line Utility</a>
          </li>
          <li>
            <a href="/tiledev/concourse.html">Concourse CI</a>
          </li>
          <li>
            <a href="/tiledev/sdk.html">Services SDK</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu expanded">
        <a href="/tiledev/roadmap.html">Service Development Roadmap</a>
        <ul>
          <li>
            <a href="/tiledev/roadmap.html#user-provided">Level 1: User-Provided Service</a>
          </li>
          <li class="has_submenu">
            <a href="/tiledev/brokered.html">Level 2: Brokered Service</a>
            <ul>
              <li>
                <a href="/tiledev/service-brokers.html">Service Broker</a>
              </li>
            </ul>
           </li> 
          <li class="has_submenu">
            <a href="/tiledev/managed.html">Level 3: Managed Service</a>
            <ul>
              <li>
                <a href="/tiledev/bosh-release.html">BOSH Releases</a>
              </li>
              <li>
                <a href="/tiledev/tile-errands.html">Errands</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/tiledev/on-demand.html">Level 4: On-Demand Service</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/other-integrations.html">Other Integrations</a>
        <ul>
          <li>
            <a href="/tiledev/bbr-devguide.html">BOSH Backup and Restore</a>
          </li>
          <li>
            <a href="/tiledev/buildpacks.html">Buildpacks</a>
          </li>
          <li class="has_submenu">
            <a href="/tiledev/credhub.html">CredHub</a>
            <ul>
              <li>
                <a href="/tiledev/create-credhub-vars.html">Creating New Variables in CredHub</a>
              </li>
              <li>
                <a href="/tiledev/migrating-credhub-credentials.html">Migrating Existing Credentials to CredHub</a>
              </li>
              <li>
                <a href="/tiledev/get-credhub-vars.html">Fetching Variable Names and Values</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/tiledev/embedded-agents.html">Embedded Agents</a>
          </li>
          <li>
            <a href="/tiledev/nozzle.html">Logs, Metrics, and Nozzles</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/tiledev/tile-documentation.html">Documentation</a>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/publish.html">Publish and Update</a>
        <ul>
          <li>
            <a href="/tiledev/tile-upgrades.html">Tile Upgrades</a>
          </li>
          <li>
            <a href="/tiledev/releases.html">Partner Software Product Release Cycle</a>
          </li>
        </ul>
      </li>


      <li class="has_submenu">
        <a href="/tiledev/reference.html">Reference</a>
        <ul>
          <li>
            <a href="/tiledev/product-template-reference.html">Product Template Reference</a>
          </li>
          <li>
            <a href="/tiledev/property-reference.html">Property Reference</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="/tiledev/release-notes.html">Partners Release Notices</a>
        <ul>
          <li>
            <a href="/tiledev/release-notes-1-12.html">PCF v1.12 Partners Release Notice</a>
          </li>
          <li>
            <a href="/tiledev/release-notes-1-11.html">PCF v1.11 Partners Release Notice</a>
          </li>
          <li>
            <a href="/tiledev/release-notes-1-10.html">PCF v1.10 Partners Release Notice</a>
          </li>
          <li>
            <a href="/tiledev/release-notes-1-9.html">PCF v1.9 Partners Release Notice</a>
          </li>
          <li>
            <a href="/tiledev/release-notes-1-8.html">PCF v1.8 Partners Release Notice</a>
          </li>
          <li>
            <a href="/tiledev/release-notes-1-7.html">PCF v1.7 Partners Release Notice</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/tiledev/contacts.html">Contact Us</a>
      </li>

    </ul>
  </div>
</div><!--end of sub-nav-->

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" >
    CredHub
  </h1>

          <div id="js-quick-links" >
            <div class="quick-links"><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#types">CredHub Credential Types</a></li>
<li><a href="#credential-names">Creating New Variables</a></li>
<li><a href="#migrate-creds">Migrating Credentials</a></li>
<li><a href="#api-variables">Fetching Variable Names and Values</a></li>
<li><a href="#snippets">CredHub in Manifest Snippets</a></li>
<li><a href="#limitations">PCF v1.11.0 Limitations</a></li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p>CredHub is a secure credential management component that runs on the BOSH VM to minimize the surface area where credentials can be compromised.
This topic provides resources for configuring service tiles to use CredHub, instead of encoding credentials in product template and job template files.</p>

<p>See the <a href="https://docs.cloudfoundry.org/credhub/index.html">CredHub documentation</a> for more information.</p>

<h2><a id="overview"></a> Overview</h2>

<p>Many  components use credentials to authenticate connections, and   installations often have hundreds of active credentials. Secure credential management is essential to prevent data and security breaches.</p>

<p>In Pivotal Cloud Foundry (PCF) v1.11.0, CredHub runs on the BOSH VM, alongside the BOSH Director and UAA. Ops Manager v1.11 stores its credentials in CredHub,
and users can retrieve them using the CredHub API or the <strong>Credentials</strong> tab of the Ops Manager Director tile.
Tile developers can embed CredHub calls in <a href="#snippets">manifest snippets</a> and PCF apps can retrieve credentials using the CredHub API.</p>

<p>See <a href="/tiledev/get-credhub-vars.html">Fetching Variable Names and Values</a> for how to fetch variable names and values using the CredHub API.</p>

<h2><a id="types"></a> CredHub Credential Types</h2>

<p>CredHub stores and retrieves the following types of credentials:</p>

<ul>
<li><code>value</code> — single string value</li>
<li><code>json</code> — arbitrary JSON object</li>
<li><code>password</code> — password string</li>
<li><code>certificate</code> — object containing certificate authority (CA), certificate, and private key</li>
<li><code>ssh</code> — object containing SSH public key and private key</li>
<li><code>rsa</code> — object containing RSA public key and private key</li>
</ul>

<p>For more information, read <a href="https://docs.cloudfoundry.org/credhub/credential-types.html">CredHub Credential Types</a>.</p>

<h2><a id="credential-names"></a>Creating New Variables</h2>

<p>To use CredHub in your deployment, you must create new variables and store them in CredHub. By default, variable namespaces are written to prevent collision across deployments, but you can type variable names precisely if you wish.</p>

<p>For more information, read <a href="./create-credhub-vars.html">Creating New Variables in CredHub</a>.</p>

<h2><a id="migrate-creds"></a>Migrating Credentials</h2>

<p>To migrate existing non-configurable credentials to CredHub, such as blobstore secrets and backup encryption keys, use the JavaScript migration process. After a successful migration, Ops Manager deletes the migrated credentials from installation.yml.</p>

<p>For more information, read <a href="/tiledev/migrating-credhub-credentials.html">Migrating Existing Credentials to CredHub</a>.</p>

<h2><a id="api-variables"></a>Fetching Variable Names and Values</h2>

<p>API endpoints are available to help you find variable names and values for products known to the Ops Manager Director.</p>

<p>For more information, read <a href="./get-credhub-vars.html" class="subnav">Fetching Variable Names and Values</a>.</p>

<h2><a id="snippets"></a> CredHub in Manifest Snippets</h2>

<p>Tile developers can embed CredHub in product template and job template manifest snippets using
<a href="/tiledev/product-template-reference.html#job-manifest">triple-parenthesis notation</a>:</p>
<pre class="highlight plaintext"><code>  manifest: |
    credhub:
      concatenated_password: prefix-((( credhub-password )))-suffix
      password: ((( credhub-password )))
</code></pre>

<h2><a id="limitations"></a> PCF v1.11.0 Limitations</h2>

<p>PCF v1.11.0 supports CredHub for credential storage, but it does not support the following:</p>

<ul>
<li><p>Automatic backup and restore for CredHub, along with other PCF system components.</p></li>
<li><p>Automatic tile <a href="/tiledev/tile-upgrades.html">upgrades</a> that migrate all types of credentials defined in <a href="/tiledev/property-reference.html#property-blueprints">property blueprints</a> in previous tile versions, to storage in CredHub.</p></li>
<li><p>Using CredHub to generate new credentials.</p></li>
</ul>

<p>Tile authors may choose to wait until PCF supports some or all of these features before incorporating CredHub into their service.</p>

        <div><a id='repo-link' href='http://github.com/pivotal-cf/docs-tiledev/tree/master/credhub.html.md.erb'>View the source for this page in GitHub</a></div>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='https://pivotal.io/privacy-policy'>Privacy Policy</a> | 
  <a href='https://pivotal.io/terms-of-use'>Terms of Use</a><br/>
  <a href='/'>Pivotal Documentation</a>
  &copy; 2017 <a href='https://pivotal.io'>Pivotal Software</a>, Inc. All Rights Reserved.
</div>
<div class="support">
  Need help? <a href="" target="_blank">Visit Support</a>
</div>

  </footer>
</div><!--end of container-->

</body>
</html>
