<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      PCF v1.12 Partners Release Notice |
    
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  
<script type="text/javascript">
  if (window.location.host === 'docs.pivotal.io') {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '']);
    _gaq.push(['_setDomainName', '']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  }
</script>

<script type="text/javascript">
  var blackList = ['acceptance'];

  blackList.forEach(function(blackListedEnv) {
    if (document.URL.indexOf(blackListedEnv) > -1 && blackListedEnv != "") {
      $('head').append('<meta name="hashtag" content="PivotalMoment">');
    }
  });
</script>

<!-- CrazyEgg Tracking Script -->
  <script type="text/javascript">
  setTimeout(function(){var a=document.createElement("script");
  var b=document.getElementsByTagName("script")[0];
  a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0055/2990.js?"+Math.floor(new Date().getTime()/3600000);
  a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>

<!-- Munchkin Marketo Script -->
<script type="text/javascript">
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

</head>

<body class="tiledev tiledev_release-notes-1-12 has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "";
    </script>

       
    <header class="header header-layout">
      <h1 class="logo">
        <a href="/">Default Book Title</a>
      </h1>
      
      <div class="header-links js-bar-links">
        <div class="btn-menu" data-behavior="MenuMobile"></div>
        
        <div class="header-item">
          
        </div>
        <!--Default search-->
<!--If book needs something different, add a book-search partial to the book's layouts folder-->
<div class="header-item searchbar js-searchbar">
  <a class="search-icon" data-behavior="Search"></a>
  <div class="search-input">
    <div class="search-input-inner" id="docs-search">
        <form method="get" action="/search">
          <input name="q" placeholder="search" class="search-box" />
        </form>
    </div>
  </div>
</div>

      </div>
    </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="js-sidenav nav-container" role="navigation">
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    <ul>

      <li>
        <a href="index.html">PCF Tile Developers Guide</a>
      </li>

      <li class="has_submenu">
        <a href="tile-basics.html">Tile Basics</a>
        <ul>
          <li>
            <a href="cf-concepts.html">How PCF and PCF Services Work</a>
          </li>
          <li>
            <a href="tile-structure.html">How Tiles Work</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="workflow.html">Tile Development Workflow</a>
        <ul>
          <li>
            <a href="overview.html">Service Integration Overview</a>
          </li>
          <li>
            <a href="stages.html">Levels of Integration</a>
          </li>
          <li>
            <a href="development.html">Development Steps at Each Level</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="environments.html">Development Environments</a>
        <ul>
          <li>
            <a href="environments.html#pcfdev">PCF Dev and BOSH Lite</a>
          </li>
          <li>
            <a href="environments.html#pws">PWS or Other Supported CF Infrastructure</a>
          </li>
          <li>
            <a href="environments.html#pcf">PCF with Ops Manager</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="tools.html">Development Tools</a>
        <ul>
          <li>
            <a href="tile-generator.html">Tile Generator</a>
          </li>
          <li>
            <a href="pcf-command.html">pcf Command Line Utility</a>
          </li>
          <li>
            <a href="concourse.html">Concourse CI</a>
          </li>
          <li>
            <a href="sdk.html">Services SDK</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu expanded">
        <a href="roadmap.html">Service Development Roadmap</a>
        <ul>
          <li>
            <a href="roadmap.html#user-provided">Level 1: User-Provided Service</a>
          </li>
          <li class="has_submenu">
            <a href="brokered.html">Level 2: Brokered Service</a>
            <ul>
              <li>
                <a href="service-brokers.html">Service Broker</a>
              </li>
            </ul>
           </li> 
          <li class="has_submenu">
            <a href="managed.html">Level 3: Managed Service</a>
            <ul>
              <li>
                <a href="bosh-release.html">BOSH Releases</a>
              </li>
              <li>
                <a href="tile-errands.html">Errands</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="on-demand.html">Level 4: On-Demand Service</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="other-integrations.html">Other Integrations</a>
        <ul>
          <li>
            <a href="https://github.com/cloudfoundry/docs-bbr/blob/master/bbr-devguide.html.md.erb">BOSH Backup and Restore</a>
          </li>
          <li>
            <a href="buildpacks.html">Buildpacks</a>
          </li>
          <li class="has_submenu">
            <a href="credhub.html">CredHub</a>
            <ul>
              <li>
                <a href="create-credhub-vars.html">Creating New Variables in CredHub</a>
              </li>
              <li>
                <a href="migrating-credhub-credentials.html">Migrating Existing Credentials to CredHub</a>
              </li>
              <li>
                <a href="get-credhub-vars.html">Fetching Variable Names and Values</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="embedded-agents.html">Embedded Agents</a>
          </li>
          <li>
            <a href="nozzle.html">Logs, Metrics, and Nozzles</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="tile-documentation.html">Documentation</a>
      </li>

      <li class="has_submenu">
        <a href="publish.html">Publish and Update</a>
        <ul>
          <li>
            <a href="tile-upgrades.html">Tile Upgrades</a>
          </li>
          <li>
            <a href="releases.html">Partner Software Product Release Cycle</a>
          </li>
        </ul>
      </li>


      <li class="has_submenu">
        <a href="reference.html">Reference</a>
        <ul>
          <li>
            <a href="product-template-reference.html">Product Template Reference</a>
          </li>
          <li>
            <a href="property-reference.html">Property Reference</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <a href="release-notes.html">Partners Release Notices</a>
        <ul>
          <li>
            <a href="release-notes-1-12.html">PCF v1.12 Partners Release Notice</a>
          </li>
          <li>
            <a href="release-notes-1-11.html">PCF v1.11 Partners Release Notice</a>
          </li>
          <li>
            <a href="release-notes-1-10.html">PCF v1.10 Partners Release Notice</a>
          </li>
          <li>
            <a href="release-notes-1-9.html">PCF v1.9 Partners Release Notice</a>
          </li>
          <li>
            <a href="release-notes-1-8.html">PCF v1.8 Partners Release Notice</a>
          </li>
          <li>
            <a href="release-notes-1-7.html">PCF v1.7 Partners Release Notice</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="contacts.html">Contact Us</a>
      </li>

    </ul>
  </div>
</div><!--end of sub-nav-->

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" >
    PCF v1.12 Partners Release Notice
  </h1>

          <div id="js-quick-links" >
            <div class="quick-links"><ul>
<li><a href="#cred-types">Additional Credential Migrations</a></li>
<li><a href="#boolean-constants">Ternary Operator Evaluates Boolean Constants</a></li>
<li><a href="#zero-instance">Resource Config Pane Hides Zero-Instance Jobs</a></li>
<li><a href="#ert-props">Elastic Runtime Tile Property Changes</a></li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p>This topic describes the changes that Pivotal Cloud Foundry (PCF) v1.12 introduces which may be relevant to partner service tiles.</p>

<h2><a id="cred-types"></a>Additional Credential Migrations</h2>

<p>Version 1.11.0 of PCF introduced CredHub for credential management, and PCF v1.11.1 added
support for migrating <code>secret</code> credentials to CredHub.</p>

<p>Ops Manager v1.12 added support for migrating additional credential types, including <code>rsa_pkey_credential</code> and <code>simple_credential</code>
types in the v1.12 Alpha release and <code>salted_credential</code> in the v1.12 Beta release.
Tile developers can migrate these credential types using the same JavaScript migration process as <code>secret</code> credentials.</p>

<p class="note"><strong>Breaking Change</strong>: When migrating <code>salted_credentials</code>, CredHub does not retain the salt. If your tile depends on the salt,
refactor before migrating to CredHub.</p>

<p>See <a href="/tiledev/migrating-credhub-credentials.html">Migrating Existing Credentials to CredHub</a> for more information.</p>

<h2><a id="boolean-constants"></a>Ternary Operator Evaluates Boolean Constants</h2>

<p>Ops Manager v1.12 adds support for evaluating boolean constants using ternary operators.
Previously, the ternary operator supported string constants, property references, or <code>named_manifest</code> declarations.</p>

<p class="note"><strong>Breaking Change</strong>: If you define <strong>true</strong> and <strong>false</strong> in any <code>property_blueprint</code> names, as shown in the workaround below, update your job manifest to use boolean constants.</p>

<p>In previous versions of Ops Manager, to expose a property to operators as a checkbox that is checked by default,
a tile author defined the true and false properties in the job manifest as a workaround.
In the following example, the <code>disable_security_protocols</code> job spec property takes a boolean value:</p>
<pre class="highlight plaintext"><code>property_blueprints:
- name: true
  type: boolean
  configurable: false
  default: true
- name: false
  type: boolean
  configurable: false
  default: false

manifest:
  disable_security_protocols: '(( .properties.secure_the_system ? .properties.false : .properties.true ))
</code></pre>

<p>In Ops Manager v1.12, the ternary operator manages boolean values natively.
A tile author can rewrite the above example using the following syntax:</p>
<pre class="highlight plaintext"><code>disable_security_protocols: '(( .properties.secure_the_system ? false : true ))'
</code></pre>

<p>When using this syntax, enclose everything following the initial colon with either single or double
quotation marks and include the space between the boolean expression and the question mark, as shown above.</p>

<h2><a id="zero-instance"></a>Resource Config Pane Hides Zero-Instance Jobs</h2>

<p>A service tile&rsquo;s <a href="/tiledev/tile-structure.html#process"><strong>Resource Config</strong></a> pane lists the jobs that the service runs and lets operators allocate resources to the jobs that are configurable.</p>

<p>Tiles can define a job as <code>non_configurable</code> and set its instance count to <code>0</code>. This prevents the job from running, but lets external services access the job properties. The Ops Manager 1.12 <strong>Resource Config</strong> pane and <a href="https://opsman-dev-api-docs.cfapps.io/#retrieving-resource-configuration-for-a-product">API endpoints</a> do not include these zero-instance jobs.</p>

<h2><a id="ert-props"></a>Elastic Runtime Tile Property Changes</h2>

<p>Properties in the Elastic Runtime tile have changed. Tile developers must change any <code>(( ..cf.PROPERTY.NAME ))</code> calls accordingly if their tiles access Elastic Runtime property values.</p>

<p>The following tables list the properties that Pivotal <a href="#removed">removed</a>, <a href="#added">added</a>, <a href="#renamed">renamed</a>, and <a href="#retyped">retyped</a> between Elastic Runtime v1.11 and v1.12:</p>

<table id='removed' border="1" class="nice" >
    <tr><th>
  Removed Properties
    </th></tr><tr><td>
  <code>.ccdb.credentials</code>
    </td></tr><tr><td>
  <code>.diego_database.skip_consul_locks</code>
    </td></tr><tr><td>
  <code>.etcd_tls_server.election_timeout_in_milliseconds</code>
    </td></tr><tr><td>
  <code>.etcd_tls_server.heartbeat_interval_in_milliseconds</code>
    </td></tr><tr><td>
  <code>.properties.cf_etcd_client_cert</code>
    </td></tr><tr><td>
  <code>.properties.cf_etcd_peer_cert</code>
    </td></tr><tr><td>
  <code>.properties.cf_etcd_server_cert</code>
    </td></tr><tr><td>
  <code>.properties.container_networking.disable.garden_network_pool</code>
    </td></tr><tr><td>
  <code>.uaadb.credentials</code>
  </td></tr></table>

<table id='added' border="1" class="nice" >
    <tr><th>
  Added Properties
    </th></tr><tr><td>
   <code>.cloud_controller.staging_timeout_in_seconds</code>
    </td></tr><tr><td>
  <code>.ha_proxy.internal_only_domains</code>
    </td></tr><tr><td>
  <code>.ha_proxy.trusted_domain_cidrs</code>
    </td></tr><tr><td>
  <code>.properties.container_networking_log_traffic</code>
    </td></tr><tr><td>
  <code>.properties.container_networking_log_traffic.enable.iptables_accepted_udp_logs_per_sec</code>
    </td></tr><tr><td>
  <code>.properties.container_networking_log_traffic.enable.iptables_denied_logs_per_sec</code>
    </td></tr><tr><td>
  <code>.properties.doppler_ssl_ciphers</code>
    </td></tr><tr><td>
  <code>.properties.enable_grootfs</code>
    </td></tr><tr><td>
  <code>.properties.garden_image_plugin</code>
    </td></tr><tr><td>
  <code>.properties.garden_image_plugin_empty</code>
    </td></tr><tr><td>
  <code>.properties.garden_image_plugin_empty_args</code>
    </td></tr><tr><td>
  <code>.properties.garden_image_plugin_extra_args</code>
    </td></tr><tr><td>
  <code>.properties.haproxy_forward_tls</code>
    </td></tr><tr><td>
  <code>.properties.haproxy_forward_tls.enable.backend_ca</code>
    </td></tr><tr><td>
  <code>.properties.loggregator_client_cert</code>
    </td></tr><tr><td>
  <code>.properties.metron_ssl_ciphers</code>
    </td></tr><tr><td>
  <code>.properties.nfs_volume_driver.enable.ldap_server_host</code>
    </td></tr><tr><td>
  <code>.properties.nfs_volume_driver.enable.ldap_server_port</code>
    </td></tr><tr><td>
  <code>.properties.nfs_volume_driver.enable.ldap_service_account_password</code>
    </td></tr><tr><td>
  <code>.properties.nfs_volume_driver.enable.ldap_service_account_user</code>
    </td></tr><tr><td>
  <code>.properties.nfs_volume_driver.enable.ldap_user_fqdn</code>
    </td></tr><tr><td>
  <code>.properties.rep_preloaded_rootfses_garden</code>
    </td></tr><tr><td>
  <code>.properties.rep_preloaded_rootfses_grootfs</code>
    </td></tr><tr><td>
  <code>.properties.router_backend_max_conn</code>
    </td></tr><tr><td>
  <code>.properties.routing_minimum_tls_version</code>
    </td></tr><tr><td>
  <code>.properties.secure_diego_communication</code>
    </td></tr><tr><td>
  <code>.router.enable_isolated_routing</code>
  </td></tr></table>

<table id='renamed' border="1" class="nice" >
    <tr><th colspan=2>
  Renamed Properties
    </th></tr><tr><th>
  v1.11 Name</th><th>v1.12 Name
    </th></tr><tr><td>
  <code>.properties.container_networking.enable.network_cidr</code></td><td><code>.properties.container_networking_network_cidr</code>
    </td></tr><tr><td>
  <code>.properties.container_networking.enable.vtep_port</code></td><td><code>.properties.container_networking_vtep_port</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.external_ssl.ssl_ciphers</code></td><td><code>.properties.gorouter_ssl_ciphers</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.external_ssl.ssl_rsa_certificate</code></td><td><code>.properties.networking_poe_ssl_cert</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.haproxy.disable_http</code></td><td><code>.properties.routing_disable_http</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.haproxy.max_buffer_size</code></td><td><code>.properties.haproxy_max_buffer_size</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.haproxy.ssl_ciphers</code></td><td><code>.properties.haproxy_ssl_ciphers</code>
    </td></tr><tr><td>
  <code>.properties.networking_point_of_entry.haproxy.ssl_rsa_certificate</code></td><td><code>.properties.networking_poe_ssl_cert</code>
    </td></tr><tr><td>
  <code>.push-apps-manager.secret_token</code></td><td><code>.push-usage-service.secret_token</code>
  </td></tr></table>

<table id='retyped' border="1" class="nice" >
    <tr><th colspan=3>
  Retyped Properties
    </th></tr><tr><th>
  Property</th><th>v1.11 Type</th><th>v1.12 Type
    </th></tr><tr><td>
  <code>.autoscaling.broker_credentials</code></td><td><code>salted_credentials</code></td><td><code>simple_credentials</code>
    </td></tr><tr><td>
  <code>.autoscaling.encryption_key</code></td><td><code>salted_credentials</code></td><td><code>secret</code>
    </td></tr><tr><td>
  <code>.properties.mysql_backups.s3.region</code></td><td><code>dropdown_select</code></td><td><code>string</code>
    </td></tr><tr><td>
  <code>.properties.system_blobstore.external.region</code></td><td><code>dropdown_select</code></td><td><code>string</code>
  </td></tr></table>

        <div><a id='repo-link' href='http://github.com/pivotal-cf/docs-tiledev/tree/master/release-notes-1-12.html.md.erb'>View the source for this page in GitHub</a></div>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='https://pivotal.io/privacy-policy'>Privacy Policy</a> | 
  <a href='https://pivotal.io/terms-of-use'>Terms of Use</a><br/>
  <a href='/'>Pivotal Documentation</a>
  &copy; 2017 <a href='https://pivotal.io'>Pivotal Software</a>, Inc. All Rights Reserved.
</div>
<div class="support">
  Need help? <a href="" target="_blank">Visit Support</a>
</div>

  </footer>
</div><!--end of container-->

</body>
</html>
